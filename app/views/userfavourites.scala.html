@import helper._
@import java.text.NumberFormat

@*RequestHeader needed for form with CRSF*@
@(animeFaves: Seq[AnimeFavourite], username: String)
@main("User Favourites"){
  <div class="container mb-5">
    <h1>Jikan API</h1>
    <p><a class="image-text-link" href="@routes.HomeController.index">
      <img class="link-icon" src="@routes.Assets.versioned("images/home-icon.png")" alt="Home Icon">
      Back to Home
    </a></p>
    <p><a class="image-text-link" href="@routes.ApplicationController.getUserProfile(username)">
      <img class="link-icon" src="@routes.Assets.versioned("images/profile-icon.png")" alt="Home Icon">
      Back to User Profile
    </a></p>
  </div>

  <div class="container mb-5">
    <h2>@username's Favourites</h2>
    @if(animeFaves.isEmpty) {
      <p>No favourites.</p>
    } else {
      <p><b>@animeFaves.length</b> favourites on @username's list:</p>
      <ul>
      @for(anime <- animeFaves) {
        <li>
          <p><a href="@routes.ApplicationController.getAnimeById(anime.mal_id.toString)"> <b>@anime.title</b> </a></p>
          <p>@{anime.`type`}, @anime.start_year</p>
@*          @if(anime.start_year.nonEmpty){, @anime.year}*@
        </li>
  @*      <form action="@routes.ApplicationController.addFromSearch()" method="POST" class="button-form">*@
  @*        @CSRF.formField*@
  @*      <input type="hidden" name="_id" value="@book._id" required>*@
  @*      <input type="hidden" name="name" value="@book.name" required>*@
  @*      <input type="hidden" name="description" value="@book.description">*@
  @*      <input type="hidden" name="pageCount" value="@book.pageCount" required>*@
  @*      <button type="submit">Add to database</button>*@
  @*      </form>*@
      }
      </ul>
    }
  </div>
}